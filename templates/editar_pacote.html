{% extends "layout.html" %}

{% block title %}Editar Pacote {{ pacote.id }}{% endblock %}

{% block content %}
    <h1>Editar Pacote {{ pacote.id }} do Pedido {{ abs_entry }}</h1>
    
    <div class="user-form">
        <form method="post">
            <div class="input-group" style="margin-top: 20px;">
                <label for="peso_pacote">Peso do Pacote (kg):</label>
                <input type="number" step="any" id="peso_pacote" name="peso_pacote" value="{{ pacote.peso }}" required>
            </div>

            <div class="input-group">
                <label for="report">Observação:</label>
                <textarea id="report" name="report" rows="3">{{ pacote.report }}</textarea>
            </div>

            <div class="input-group">
                <label for="localizacao">Localização:</label>
                <select id="localizacao" name="localizacao">
                    <option value="Doca 1" {% if pacote.localizacao == 'Doca 1' %}selected{% endif %}>Doca 1</option>
                    <option value="Doca 2" {% if pacote.localizacao == 'Doca 2' %}selected{% endif %}>Doca 2</option>
                    <option value="Doca 3" {% if pacote.localizacao == 'Doca 3' %}selected{% endif %}>Doca 3</option>
                </select>
            </div>

            <h2>Itens do Pacote</h2>
            <table class="table-users">
                <thead>
                    <tr>
                        <th>Cód. Item</th>
                        <th>Descrição</th>
                        <th>Quantidade</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in pacote.itens %}
                    <tr>
                        <td>{{ item.ItemCode }}</td>
                        <td>{{ item.ItemName }}</td>
                        <td><input type="number" step="any" name="quantidade_{{ item.ItemCode }}" value="{{ item.Quantity }}"></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

            <button type="submit" class="btn" style="margin-top: 20px;">Salvar Alterações</button>
            <a href="{{ url_for('pedidos.separar_picking', abs_entry=abs_entry) }}" class="btn btn-secondary">Cancelar</a>
        </form>
    </div>
{% endblock %}